<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´´ë‹´ ë ˆìŠ¤í† ë‘ ğŸ‘»</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f0f, #1a1a1a, #2d1b1b);
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: backgroundShift 10s ease-in-out infinite alternate;
        }

        @keyframes backgroundShift {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .container {
            background: rgba(0, 0, 0, 0.9);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(255, 0, 0, 0.2), 0 0 60px rgba(0, 0, 0, 0.8);
            max-width: 700px;
            width: 90%;
            text-align: center;
            border: 3px solid #330000;
            backdrop-filter: blur(10px);
            animation: containerGlow 3s ease-in-out infinite alternate;
        }

        @keyframes containerGlow {
            0% { box-shadow: 0 15px 40px rgba(255, 0, 0, 0.2), 0 0 60px rgba(0, 0, 0, 0.8); }
            100% { box-shadow: 0 15px 40px rgba(255, 0, 0, 0.4), 0 0 80px rgba(255, 0, 0, 0.1); }
        }
        
        h1 {
            color: #ff4444;
            margin-bottom: 20px;
            font-size: 3em;
            text-shadow: 3px 3px 6px rgba(255, 0, 0, 0.5), 0 0 20px rgba(255, 0, 0, 0.3);
            animation: titleFlicker 2s ease-in-out infinite alternate;
        }

        @keyframes titleFlicker {
            0% { text-shadow: 3px 3px 6px rgba(255, 0, 0, 0.5), 0 0 20px rgba(255, 0, 0, 0.3); }
            100% { text-shadow: 3px 3px 6px rgba(255, 0, 0, 0.8), 0 0 30px rgba(255, 0, 0, 0.6); }
        }

        .subtitle {
            margin-bottom: 40px;
            font-size: 18px;
            color: #ccc;
            font-style: italic;
        }
        
        .category-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-bottom: 40px;
        }
        
        .category-btn {
            background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
            color: #fff;
            padding: 20px 30px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid #444;
            position: relative;
            overflow: hidden;
            min-width: 180px;
        }

        .category-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .category-btn:hover::before {
            left: 100%;
        }
        
        .category-btn:hover {
            background: linear-gradient(145deg, #ff4444, #cc0000);
            border-color: #ff4444;
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 68, 68, 0.4);
        }

        .category-btn:active {
            transform: translateY(-2px) scale(1.02);
        }
        
        .random-btn {
            background: linear-gradient(145deg, #4a4a4a, #2a2a2a);
            color: #fff;
            padding: 18px 35px;
            border: none;
            border-radius: 12px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.4s ease;
            margin-top: 30px;
            border: 2px solid #666;
            position: relative;
            overflow: hidden;
        }

        .random-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .random-btn:hover::before {
            left: 100%;
        }
        
        .random-btn:hover {
            background: linear-gradient(145deg, #6c5ce7, #5a4fcf);
            border-color: #6c5ce7;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(108, 92, 231, 0.4);
        }
        
        .story-container {
            background: rgba(10, 10, 10, 0.95);
            padding: 35px;
            border-radius: 15px;
            margin: 30px 0;
            border-left: 5px solid #ff4444;
            text-align: left;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
            display: none;
            animation: storyAppear 0.8s ease-out;
        }

        @keyframes storyAppear {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .story-text {
            font-size: 20px;
            line-height: 1.8;
            color: #f0f0f0;
            margin-bottom: 25px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .story-category {
            text-align: center;
            color: #ff6b6b;
            font-weight: bold;
            font-size: 16px;
            background: rgba(255, 107, 107, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .control-buttons {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            display: none;
        }

        .control-btn {
            background: linear-gradient(145deg, #333, #222);
            color: #fff;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #555;
        }
        
        .control-btn:hover {
            background: linear-gradient(145deg, #555, #333);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .footer {
            margin-top: 40px;
            font-size: 14px;
            color: #888;
            font-style: italic;
        }

        .loading {
            display: none;
            color: #ff4444;
            font-size: 18px;
            margin: 20px 0;
        }

        .loading::after {
            content: '';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }
            
            h1 {
                font-size: 2.5em;
            }
            
            .category-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .category-btn {
                width: 100%;
                max-width: 280px;
            }

            .control-buttons {
                flex-direction: column;
                align-items: center;
            }

            .control-btn {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ½ï¸ ê´´ë‹´ ë ˆìŠ¤í† ë‘ ğŸ‘»</h1>
        <p class="subtitle">ì˜¤ëŠ˜ì˜ ë©”ë‰´ëŠ” ë¬´ì„œìš´ ì´ì•¼ê¸°ì…ë‹ˆë‹¤... ì–´ë–¤ ë§›ì„ ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>

        <div id="mainMenu">
            <div class="category-buttons">
                <button class="category-btn" onclick="generateStory('school')">
                    ğŸ• í•™êµ ê´´ë‹´
                </button>
                <button class="category-btn" onclick="generateStory('hospital')">
                    ğŸ” ë³‘ì› ê´´ë‹´
                </button>
                <button class="category-btn" onclick="generateStory('apartment')">
                    ğŸ ì•„íŒŒíŠ¸ ê´´ë‹´
                </button>
            </div>

            <button class="random-btn" onclick="generateRandomStory()">
                ğŸ² ì…°í”„ ì¶”ì²œ ë©”ë‰´
            </button>
        </div>

        <div class="loading" id="loading">
            ìš”ë¦¬ì‚¬ê°€ ê´´ë‹´ì„ ìš”ë¦¬í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤
        </div>

        <div class="story-container" id="storyContainer">
            <div class="story-text" id="storyText"></div>
            <div style="text-align: center; margin-top: 20px;">
                <span class="story-category" id="storyCategory"></span>
            </div>
        </div>

        <div class="control-buttons" id="controlButtons">
            <button class="control-btn" onclick="showMainMenu()">ğŸ”™ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°</button>
            <button class="control-btn" onclick="generateRandomStory()">ğŸ´ ë‹¤ë¥¸ ìš”ë¦¬ ì£¼ë¬¸</button>
            <button class="control-btn" onclick="shareStory()">ğŸ“¤ ìš”ë¦¬ ì¶”ì²œí•˜ê¸°</button>
        </div>

        <div class="footer">
            <p>âš ï¸ ì´ ë ˆìŠ¤í† ë‘ì˜ ìš”ë¦¬ëŠ” ì¬ë¯¸ë¥¼ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. ë„ˆë¬´ ë¬´ì„œì›Œí•˜ì§€ ë§ˆì„¸ìš”! âš ï¸</p>
        </div>
    </div>

    <script>
        // ê´´ë‹´ ë°ì´í„°ë² ì´ìŠ¤
        const HORROR_DATA = {
            'school': {
                'backgrounds': [
                    'ìƒˆë²½ 2ì‹œ, í•™êµ í™”ì¥ì‹¤ì—ì„œ',
                    'ë°©ê³¼í›„ í…… ë¹ˆ êµì‹¤ì—ì„œ',
                    'ì§€í•˜ì‹¤ ì°½ê³ ì—ì„œ',
                    'ì˜¥ìƒ ê³„ë‹¨ ëì—ì„œ',
                    'ìŒì•…ì‹¤ í”¼ì•„ë…¸ ì•ì—ì„œ',
                    'ë„ì„œê´€ êµ¬ì„ì§„ ì„œê³ ì—ì„œ',
                    'ì²´ìœ¡ê´€ êµ¬ì„ì—ì„œ',
                    'ì‹¤í—˜ì‹¤ ì–´ë‘  ì†ì—ì„œ',
                    'ê¸‰ì‹ì‹¤ ì¡°ë¦¬ì‹¤ì—ì„œ',
                    'ë°©ì†¡ì‹¤ ê¹Šì€ ë°¤ì—'
                ],
                'characters': [
                    'í˜¼ì ë‚¨ì€ ì—¬í•™ìƒì´',
                    'ì•¼ìë¥¼ ë§ˆì¹œ í•™ìƒì´',
                    'ì²­ì†Œë¥¼ í•˜ë˜ í•™ìƒì´',
                    'ì±…ì„ ì°¾ë˜ í•™ìƒì´',
                    'ì—°ìŠµì„ í•˜ë˜ í•™ìƒì´',
                    'ìˆ™ì œë¥¼ í•˜ë˜ í•™ìƒì´',
                    'ë™ì•„ë¦¬ í™œë™ì„ ë§ˆì¹œ í•™ìƒì´',
                    'ë²Œì„ ë°›ë˜ í•™ìƒì´',
                    'ì•¼ê°„ ê²½ë¹„ì›ì´',
                    'ëŠ¦ê²Œ í‡´ê·¼í•˜ë˜ ì„ ìƒë‹˜ì´'
                ],
                'events': [
                    'ê°‘ìê¸° ë°œìêµ­ ì†Œë¦¬ê°€ ë“¤ë ¸ë‹¤',
                    'ëˆ„êµ°ê°€ ì´ë¦„ì„ ë¶€ë¥´ëŠ” ì†Œë¦¬ê°€ ë‚¬ë‹¤',
                    'ì°¬ ë°”ëŒì´ ëª©ëœë¯¸ë¥¼ ìŠ¤ì³¤ë‹¤',
                    'ê±°ìš¸ ì†ì— ëˆ„êµ°ê°€ê°€ ì„œ ìˆì—ˆë‹¤',
                    'ë’¤ì—ì„œ ëˆ„êµ°ê°€ ë°”ë¼ë³´ëŠ” ì‹œì„ ì„ ëŠê¼ˆë‹¤',
                    'ê°‘ìê¸° ëª¨ë“  ë¶ˆì´ êº¼ì¡Œë‹¤',
                    'ì²œì²œíˆ ë¬¸ì´ ì €ì ˆë¡œ ì—´ë ¸ë‹¤',
                    'ì–´ë””ì„ ê°€ ì•„ì´ ìš¸ìŒì†Œë¦¬ê°€ ë“¤ë ¸ë‹¤',
                    'ì¹ íŒì— ì €ì ˆë¡œ ê¸€ì”¨ê°€ ì¨ì¡Œë‹¤',
                    'ê³„ë‹¨ì—ì„œ ëˆ„êµ°ê°€ ë›°ì–´ë‚´ë¦¬ëŠ” ì†Œë¦¬ê°€ ë‚¬ë‹¤'
                ],
                'endings': [
                    'ê·¸ë¦¬ê³  ì•„ë¬´ë„ ê·¸ í•™ìƒì„ ë‹¤ì‹œ ë³´ì§€ ëª»í–ˆë‹¤.',
                    'ë‹¤ìŒ ë‚ , ê·¸ ìë¦¬ì—ëŠ” ë‚¡ì€ êµë³µë§Œ ë‚¨ì•„ìˆì—ˆë‹¤.',
                    'ì§€ê¸ˆë„ ê·¸ í•™êµì—” ê·¸ í•™ìƒì˜ í˜¼ì´ ë– ëˆë‹¤ê³  í•œë‹¤.',
                    'ê·¸ í›„ë¡œ ê·¸ ì¥ì†ŒëŠ” ì¶œì…ê¸ˆì§€ê°€ ë˜ì—ˆë‹¤.',
                    'ê·¸ í•™ìƒì€ ì •ì‹ ì„ ìƒê³  ë³‘ì›ì— ì‹¤ë ¤ê°”ê³ , ê¹¨ì–´ë‚˜ì§€ ëª»í–ˆë‹¤.',
                    'ì•„ì§ë„ ë°¤ì´ë©´ ê·¸ê³³ì—ì„œ ë„ì›€ì„ ì²­í•˜ëŠ” ì†Œë¦¬ê°€ ë“¤ë¦°ë‹¤.',
                    'ê·¸ í•™ìƒì˜ ë§ˆì§€ë§‰ ë§ì€ "ë’¤ì—... ë’¤ì— ìˆì–´"ì˜€ë‹¤.',
                    'ê·¸ ì¼ ì´í›„ë¡œ ê·¸ í•™êµì—ì„  ë§¤ë…„ í•™ìƒ í•œ ëª…ì”© ì‚¬ë¼ì§„ë‹¤.',
                    'ê·¸ í•™êµëŠ” ê²°êµ­ íêµë˜ì—ˆê³ , ì§€ê¸ˆë„ ë¹„ì–´ìˆë‹¤.',
                    'ê·¸ë‚  ë°¤ ì´í›„, ê·¸ í•™ìƒì€ ë§ì„ í•˜ì§€ ëª»í•˜ê²Œ ë˜ì—ˆë‹¤.'
                ]
            },
            'hospital': {
                'backgrounds': [
                    'íë³‘ì› ìˆ˜ìˆ ì‹¤ì—ì„œ',
                    'ê¹Šì€ ë°¤ ë³‘ì› ë³µë„ì—ì„œ',
                    'ì§€í•˜ ì˜ì•ˆì‹¤ì—ì„œ',
                    'ë²„ë ¤ì§„ ë³‘ì‹¤ì—ì„œ',
                    'ë³‘ì› ì—˜ë¦¬ë² ì´í„° ì•ˆì—ì„œ',
                    'ì‘ê¸‰ì‹¤ êµ¬ì„ì—ì„œ',
                    'ì •ì‹ ë³‘ë™ ëë°©ì—ì„œ',
                    'ë³‘ì› ì˜¥ìƒì—ì„œ',
                    'ì¤‘í™˜ìì‹¤ ì•ì—ì„œ',
                    'ë³‘ì› ì§€í•˜ì£¼ì°¨ì¥ì—ì„œ'
                ],
                'characters': [
                    'ì•¼ê·¼í•˜ë˜ ê°„í˜¸ì‚¬ê°€',
                    'ê¸¸ì„ ìƒì€ ë°©ë¬¸ê°ì´',
                    'ì²­ì†Œë¥¼ í•˜ë˜ ì§ì›ì´',
                    'ì‘ê¸‰í™˜ìë¥¼ ëŒë³´ë˜ ì˜ì‚¬ê°€',
                    'ë°¤ëŠ¦ê²Œ ì˜¨ ë³´í˜¸ìê°€',
                    'ê²½ë¹„ë¥¼ ì„œë˜ ì§ì›ì´',
                    'ì‹¤ìŠµìƒì´',
                    'í™˜ìë¥¼ ëŒë³´ë˜ ê°„ë³‘ì¸ì´',
                    'ì•¼ê°„ ë‹¹ì§ ì˜ì‚¬ê°€',
                    'ì‘ê¸‰ì‹¤ ê°„í˜¸ì‚¬ê°€'
                ],
                'events': [
                    'ê°‘ìê¸° ìˆ˜ìˆ ìš© ë©”ìŠ¤ê°€ ì €ì ˆë¡œ ì›€ì§ì˜€ë‹¤',
                    'ë¹ˆ ë³‘ì‹¤ì—ì„œ í™˜ìë³µ ì…ì€ ëˆ„êµ°ê°€ë¥¼ ë´¤ë‹¤',
                    'ì—˜ë¦¬ë² ì´í„°ê°€ ì—†ëŠ” ì¸µì—ì„œ ë©ˆì·„ë‹¤',
                    'ìˆ˜ìˆ ì‹¤ì—ì„œ ë§¥ë°• ì†Œë¦¬ê°€ ë“¤ë ¸ë‹¤',
                    'ì˜ì•ˆì‹¤ ë¬¸ì´ ì•ˆìª½ì—ì„œ ë‘ë“œë ¤ì¡Œë‹¤',
                    'ë³µë„ ëì—ì„œ íœ ì²´ì–´ê°€ í˜¼ì êµ´ëŸ¬ì™”ë‹¤',
                    'ë¹ˆ ì¹¨ëŒ€ì— ëˆ„êµ°ê°€ ëˆ„ì›ŒìˆëŠ” í˜•íƒœê°€ ë³´ì˜€ë‹¤',
                    'ìˆ˜ì•¡ ì£¼ë¨¸ë‹ˆê°€ ì €ì ˆë¡œ ë–¨ì–´ì¡Œë‹¤',
                    'ì‘ê¸‰ì‹¤ ëª¨ë‹ˆí„°ì—ì„œ ì‹¬ì „ë„ê°€ ë‚˜íƒ€ë‚¬ë‹¤',
                    'í™˜ì í˜¸ì¶œë²¨ì´ ë¹ˆ ë³‘ì‹¤ì—ì„œ ê³„ì† ìš¸ë ¸ë‹¤'
                ],
                'endings': [
                    'ê·¸ í›„ ê·¸ ë³‘ì›ì€ ì˜ì›íˆ íì‡„ë˜ì—ˆë‹¤.',
                    'ì§€ê¸ˆë„ ê·¸ ë³‘ì›ì—” ì¹˜ë£Œë°›ì§€ ëª»í•œ ì˜í˜¼ë“¤ì´ ë– ëˆë‹¤.',
                    'ê·¸ë‚  ë°¤ ì´í›„, ê·¸ ì‚¬ëŒì€ ë§ì„ í•˜ì§€ ëª»í•˜ê²Œ ë˜ì—ˆë‹¤.',
                    'ê·¸ ë³‘ì›ì—ì„  ì•„ì§ë„ ë°¤ë§ˆë‹¤ ìˆ˜ìˆ  ì†Œë¦¬ê°€ ë“¤ë¦°ë‹¤.',
                    'ê·¸ ì‚¬ëŒì€ ë‹¤ìŒ ë‚  ì•„ì¹¨ ì˜ì‹ë¶ˆëª… ìƒíƒœë¡œ ë°œê²¬ë˜ì—ˆë‹¤.',
                    'ê·¸ ë³‘ì›ì˜ í™˜ì ìˆ˜ëŠ” ëŠ˜ í•œ ëª…ì”© ë§ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.',
                    'ê·¸ë‚  ì´í›„ ê·¸ ì¸µì€ ì•„ë¬´ë„ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.',
                    'ì§€ê¸ˆë„ ê·¸ ë³‘ì›ì—” í‡´ì›í•˜ì§€ ëª»í•œ í™˜ìë“¤ì´ ìˆë‹¤ê³  í•œë‹¤.',
                    'ê·¸ ë³‘ì›ì€ ê²°êµ­ ë¬¸ì„ ë‹«ì•˜ê³ , ì§€ê¸ˆì€ íí—ˆê°€ ë˜ì—ˆë‹¤.',
                    'ê·¸ í›„ë¡œ ê·¸ ì‚¬ëŒì€ ë³‘ì› ê·¼ì²˜ì— ì–¼ì”¬ë„ í•˜ì§€ ëª»í•œë‹¤.'
                ]
            },
            'apartment': {
                'backgrounds': [
                    'ìƒˆë²½ 3ì‹œ, ì•„íŒŒíŠ¸ ê³„ë‹¨ì—ì„œ',
                    'ì—˜ë¦¬ë² ì´í„° ì•ˆì—ì„œ',
                    'ì§€í•˜ì£¼ì°¨ì¥ì—ì„œ',
                    'ì˜¥ìƒ ë¬¼íƒ±í¬ ê·¼ì²˜ì—ì„œ',
                    'ë¹ˆ ì§‘ í˜„ê´€ë¬¸ ì•ì—ì„œ',
                    'ì•„íŒŒíŠ¸ ë³µë„ì—ì„œ',
                    'ë² ë€ë‹¤ì—ì„œ',
                    'ê´€ë¦¬ì‚¬ë¬´ì†Œì—ì„œ',
                    'ì•„íŒŒíŠ¸ ì“°ë ˆê¸°ì¥ì—ì„œ',
                    'ë‹¨ì§€ ë†€ì´í„°ì—ì„œ'
                ],
                'characters': [
                    'ëŠ¦ê²Œ ê·€ê°€í•˜ë˜ ì§ì¥ì¸ì´',
                    'ì“°ë ˆê¸°ë¥¼ ë²„ë¦¬ëŸ¬ ë‚˜ì˜¨ ì£¼ë¯¼ì´',
                    'íƒë°°ë¥¼ ë°›ìœ¼ëŸ¬ ë‚˜ì˜¨ ì‚¬ëŒì´',
                    'ìš´ë™ì„ ë§ˆì¹˜ê³  ì˜¨ ì‚¬ëŒì´',
                    'ê°•ì•„ì§€ ì‚°ì±…ì„ ì‹œí‚¤ë˜ ì‚¬ëŒì´',
                    'í¸ì˜ì ì—ì„œ ëŒì•„ì˜¤ë˜ í•™ìƒì´',
                    'ì•¼ê·¼ì„ ë§ˆì¹˜ê³  ì˜¨ íšŒì‚¬ì›ì´',
                    'ìƒˆë²½ ì¡°ê¹…ì„ ë‚˜ê°„ ì‚¬ëŒì´',
                    'ê´€ë¦¬ì‚¬ë¬´ì†Œ ê²½ë¹„ì›ì´',
                    'ì´ì‚¬ë¥¼ ì˜¨ ìƒˆ ì£¼ë¯¼ì´'
                ],
                'events': [
                    'ìœ„ì¸µì—ì„œ êµ¬ìŠ¬ êµ´ëŸ¬ê°€ëŠ” ì†Œë¦¬ê°€ ë“¤ë ¸ë‹¤',
                    'ì—˜ë¦¬ë² ì´í„°ê°€ 13ì¸µì—ì„œ ë©ˆì·„ë‹¤',
                    'ë³µë„ ëì—ì„œ ì•„ì´ê°€ ë›°ì–´ë‹¤ë‹ˆëŠ” ì†Œë¦¬ê°€ ë‚¬ë‹¤',
                    'ë¹„ì–´ìˆëŠ” ì§‘ì—ì„œ ë¶ˆì´ ì¼œì¡Œë‹¤ êº¼ì¡Œë‹¤ í–ˆë‹¤',
                    'ê³„ë‹¨ì—ì„œ ëˆ„êµ°ê°€ ë”°ë¼ì˜¤ëŠ” ë°œì†Œë¦¬ê°€ ë“¤ë ¸ë‹¤',
                    'ìœ„ì¸µì—ì„œ ê°€êµ¬ ë„ëŠ” ì†Œë¦¬ê°€ ê³„ì† ë‚¬ë‹¤',
                    'ì—˜ë¦¬ë² ì´í„° ë¬¸ì´ ì—´ë ¸ëŠ”ë° ì•„ë¬´ë„ ì—†ì—ˆë‹¤',
                    'í˜„ê´€ë¬¸ì„ ë‘ë“œë¦¬ëŠ” ì†Œë¦¬ê°€ ë“¤ë ¸ì§€ë§Œ ë¬¸êµ¬ë©ì—” ì•„ë¬´ë„ ì—†ì—ˆë‹¤',
                    'ë² ë€ë‹¤ì—ì„œ ëˆ„êµ°ê°€ ì°½ë¬¸ì„ ë‘ë“œë ¸ë‹¤',
                    'ì•„ë˜ì¸µì—ì„œ ì•„ì´ ìš¸ìŒì†Œë¦¬ê°€ ê³„ì† ë“¤ë ¸ë‹¤'
                ],
                'endings': [
                    'ê·¸ ì•„íŒŒíŠ¸ì—ì„  ì§€ê¸ˆë„ ë°¤ë§ˆë‹¤ ì´ìƒí•œ ì†Œë¦¬ê°€ ë‚œë‹¤.',
                    'ê·¸ í›„ë¡œ ê·¸ ì§‘ì€ ê³„ì† ë¹„ì–´ìˆê²Œ ë˜ì—ˆë‹¤.',
                    'ê·¸ë‚  ì´í›„ ê·¸ ì‚¬ëŒì€ ì´ì‚¬ë¥¼ ê°”ë‹¤.',
                    'ì§€ê¸ˆë„ ê·¸ ì¸µ ë³µë„ëŠ” í•­ìƒ ì¶¥ë‹¤ê³  í•œë‹¤.',
                    'ê·¸ ì•„íŒŒíŠ¸ì˜ 13ì¸µì€ ì•„ë¬´ë„ ì‚´ì§€ ì•ŠëŠ”ë‹¤.',
                    'ê·¸ ì‚¬ëŒì€ ê·¸ë‚  ë°¤ ì ë“¤ì§€ ëª»í–ˆê³ , ë‹¤ìŒ ë‚  ì´ì‚¬í–ˆë‹¤.',
                    'ì•„ì§ë„ ê·¸ ì•„íŒŒíŠ¸ ì£¼ë¯¼ë“¤ì€ ë°¤ì— ì´ìƒí•œ ì†Œë¦¬ë¥¼ ë“£ëŠ”ë‹¤.',
                    'ê·¸ ì•„íŒŒíŠ¸ ê´€ë¦¬ì‚¬ë¬´ì†Œì—” ì„¤ëª…í•  ìˆ˜ ì—†ëŠ” ì‹ ê³ ê°€ ìì£¼ ë“¤ì–´ì˜¨ë‹¤.',
                    'ê·¸ ì•„íŒŒíŠ¸ëŠ” ê²°êµ­ ì¬ê±´ì¶•ë˜ì—ˆì§€ë§Œ, ì—¬ì „íˆ ì´ìƒí•˜ë‹¤ê³  í•œë‹¤.',
                    'ê·¸ í›„ë¡œ ê·¸ ì‚¬ëŒì€ ì•„íŒŒíŠ¸ ëŒ€ì‹  ë‹¨ë…ì£¼íƒìœ¼ë¡œë§Œ ì´ì‚¬ë‹¤ë‹Œë‹¤.'
                ]
            }
        };

        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function generateHorrorStory(category) {
            if (!HORROR_DATA[category]) return null;
            
            const data = HORROR_DATA[category];
            const background = getRandomElement(data.backgrounds);
            const character = getRandomElement(data.characters);
            const event = getRandomElement(data.events);
            const ending = getRandomElement(data.endings);
            
            return `${background} ${character} ${event}. ${ending}`;
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('storyContainer').style.display = 'none';
            document.getElementById('controlButtons').style.display = 'none';
        }

        function showStory(story, category) {
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('storyText').innerText = story;
                
                const categoryNames = {
                    'school': 'ğŸ• í•™êµ ê´´ë‹´',
                    'hospital': 'ğŸ” ë³‘ì› ê´´ë‹´',
                    'apartment': 'ğŸ ì•„íŒŒíŠ¸ ê´´ë‹´'
                };
                
                document.getElementById('storyCategory').innerText = categoryNames[category];
                document.getElementById('storyContainer').style.display = 'block';
                document.getElementById('controlButtons').style.display = 'flex';
            }, 1500);
        }

        function generateStory(category) {
            showLoading();
            const story = generateHorrorStory(category);
            if (story) {
                showStory(story, category);
            }
        }

        function generateRandomStory() {
            const categories = Object.keys(HORROR_DATA);
            const randomCategory = getRandomElement(categories);
            generateStory(randomCategory);
        }

        function showMainMenu() {
            document.getElementById('mainMenu').style.display = 'block';
            document.getElementById('storyContainer').style.display = 'none';
            document.getElementById('controlButtons').style.display = 'none';
            document.getElementById('loading').style.display = 'none';
        }

        function shareStory() {
            const story = document.getElementById('storyText').innerText;
            const category = document.getElementById('storyCategory').innerText;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ê´´ë‹´ ë ˆìŠ¤í† ë‘ - ' + category,
                    text: story,
                    url: window.location.href
                });
            } else {
                // í´ë¦½ë³´ë“œì— ë³µì‚¬
                const shareText = `${category}\n\n${story}\n\n- ê´´ë‹´ ë ˆìŠ¤í† ë‘ì—ì„œ ìš”ë¦¬ë¨`;
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('ê´´ë‹´ ìš”ë¦¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                });
            }
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ íš¨ê³¼ìŒ (ì„ íƒì‚¬í•­)
        document.addEventListener('DOMContentLoaded', function() {
            // ê°„ë‹¨í•œ ì›°ì»´ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                document.querySelector('.container').style.animation = 'containerGlow 3s ease-in-out infinite alternate';
            }, 500);
        });
    </script>
</body>
</html>
